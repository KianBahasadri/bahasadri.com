# Cloudflare Workers configuration for Next.js
# This file configures how your Next.js application is deployed to Cloudflare Workers

main = ".open-next/worker.js"
name = "bahasadri-website"
compatibility_date = "2025-03-25"
compatibility_flags = ["nodejs_compat"]

[[kv_namespaces]]
binding = "SMS_MESSAGES"
id = "e1c31d9857df45d49f00c03daa8b9602"
preview_id = "e1c31d9857df45d49f00c03daa8b9602"

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

[[r2_buckets]]
binding = "file_hosting_prod"
bucket_name = "file-hosting-prod"


# Custom domains
[[routes]]
pattern = "bahasadri.com"
custom_domain = true

[[routes]]
pattern = "www.bahasadri.com"
custom_domain = true

[[d1_databases]]
binding = "FILE_HOSTING_DB"
database_name = "file-hosting"
database_id = "00822e66-3363-42df-b80a-526c0a1efc30"

[observability]
enabled = true
head_sampling_rate = 1

# For production deployments, you can configure:
# - Environment variables
# - KV namespaces
# - Durable Objects
# - R2 buckets
# See: https://developers.cloudflare.com/workers/wrangler/configuration/

